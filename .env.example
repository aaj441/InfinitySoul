# InfinitySol Production Configuration
# Copy this file to .env and fill in your actual values

# ========== SERVER SETTINGS ==========
NODE_ENV=production
PORT=8000

# ========== FRONTEND ==========
NEXT_PUBLIC_API_URL=http://localhost:8000
# For production, set to your deployed API URL
FRONTEND_URL=http://localhost:3000
# For production, set to your deployed frontend URL

# ========== ERROR TRACKING (REQUIRED FOR PRODUCTION) ==========
# Sign up at https://sentry.io for free error tracking
SENTRY_DSN=https://YOUR_SENTRY_DSN@sentry.io/YOUR_PROJECT_ID
APP_VERSION=1.0.0

# ========== LOGGING ==========
LOG_LEVEL=info
# Options: error, warn, info, http, debug

# ========== SECURITY & RATE LIMITING ==========
CORS_ORIGINS=http://localhost:3000,https://your-production-domain.com
# Comma-separated list of allowed origins
RATE_LIMIT_WINDOW_MS=60000
# Rate limit window in milliseconds (default: 60000 = 1 minute)
RATE_LIMIT_MAX_REQUESTS=100
# Max requests per window (default: 100)
API_KEY=
# Optional: API key for authentication

# ========== AI SERVICES (REQUIRED) ==========
# Claude (Anthropic) - For accessibility analysis and legal document extraction
# Sign up at https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-api03-your-key-here

# OpenAI - For code remediation and content generation
# Sign up at https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-key-here

# Perplexity AI - For legal research and litigation intelligence (optional)
# Sign up at https://www.perplexity.ai/settings/api
PERPLEXITY_API_KEY=pplx-...

# ========== LEGAL DATA SOURCES (REQUIRED FOR PHASE V) ==========
# PACER (Public Access to Court Electronic Records)
# Sign up at https://pacer.uscourts.gov/
PACER_USERNAME=your_pacer_username
PACER_PASSWORD=your_pacer_password

# CourtListener API - Free tier available
# Sign up at https://www.courtlistener.com/api/rest/
COURTLISTENER_API_KEY=your_courtlistener_api_key

# ========== DATABASE (REQUIRED) ==========
# PostgreSQL database URL
POSTGRES_USER=infinitysoul
POSTGRES_PASSWORD=your_secure_postgres_password
POSTGRES_DB=infinitysoul
DATABASE_URL=postgresql://infinitysoul:your_secure_postgres_password@postgres:5432/infinitysoul
# Example production: postgresql://user:password@db.railway.app:5432/railway

# ========== REDIS CACHE (REQUIRED) ==========
# Redis URL for caching and job queues
REDIS_PASSWORD=your_secure_redis_password
REDIS_URL=redis://:your_secure_redis_password@redis:6379
# Example production: redis://default:password@redis.railway.app:6379

# ========== EMAIL SERVICE (OPTIONAL) ==========
# For sending follow-up emails and notifications
# Sign up at https://sendgrid.com for free tier (100 emails/day)
SENDGRID_API_KEY=SG.xxx
EMAIL_FROM=hello@infinitysol.com

# ========== AUTHENTICATION & SECURITY ==========
# JWT secret for token signing (generate with: openssl rand -base64 32)
JWT_SECRET=your_256_bit_jwt_secret_key_here
JWT_EXPIRES_IN=7d
SESSION_SECRET=your_session_secret_here

# ========== PAYMENT PROCESSING (REQUIRED FOR PRODUCTION) ==========
# For accepting payments
# Sign up at https://stripe.com
STRIPE_PUBLISHABLE_KEY=pk_live_...
STRIPE_SECRET_KEY=sk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...

# ========== ANALYTICS (OPTIONAL) ==========
# For tracking user behavior
# Sign up at https://mixpanel.com or PostHog
MIXPANEL_TOKEN=...
POSTHOG_API_KEY=phc_...

# ========== SCANNER CONFIGURATION (PHASE V) ==========
# Autonomous scanner settings
SCANNER_CONCURRENCY=5
SCANNER_PROXY_POOL_SIZE=20
SCANNER_USER_AGENT_ROTATION=true
SCANNER_MAX_PAGES_PER_SITE=100
SCANNER_TIMEOUT_MS=30000

# ========== INTEL WORKER CONFIGURATION (PHASE V) ==========
# Lawsuit monitoring frequency
PACER_POLL_INTERVAL_HOURS=6
PLAINTIFF_ANALYSIS_INTERVAL_HOURS=24
LAWSUIT_PREDICTION_BATCH_SIZE=100

# ========== FEATURE FLAGS ==========
ENABLE_AUTO_REMEDIATION=true
ENABLE_LAWSUIT_PREDICTION=true
ENABLE_RISK_SCORING=true
ENABLE_PORTFOLIO_INTELLIGENCE=true

# ========== BACKUP CONFIGURATION ==========
# S3 for backups and scan result storage
S3_BACKUP_BUCKET=infinitysoul-backups
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1

# ========== BLOCKCHAIN (OPTIONAL - FUTURE) ==========
# For immutable audit logging on Polygon
POLYGON_RPC_URL=https://polygon-rpc.com/
WALLET_ADDRESS=0x...
PRIVATE_KEY=0x...

# ========== DEPLOYMENT NOTES ==========
# REQUIRED for Production Launch:
#   ✅ NODE_ENV=production
#   ✅ PORT (default: 8000)
#   ✅ SENTRY_DSN (critical for error tracking)
#   ✅ FRONTEND_URL (for CORS)
#   ✅ NEXT_PUBLIC_API_URL (for API calls)
#
# RECOMMENDED for Production:
#   ⚠️  At least one AI service API key (Perplexity, Claude, or OpenAI)
#   ⚠️  SENDGRID_API_KEY (for email outreach)
#   ⚠️  DATABASE_URL (when you implement persistence)
#
# OPTIONAL for MVP:
#   - STRIPE_* (add when ready to charge customers)
#   - MIXPANEL_TOKEN (add when you want analytics)
#   - REDIS_URL (add when you need caching)
#   - POLYGON_* (add for blockchain features)
#
# Security Checklist:
#   ✅ Never commit .env file to git (.gitignore must include .env)
#   ✅ Use different keys for development and production
#   ✅ Rotate keys regularly
#   ✅ Store production secrets in Railway/Vercel environment variables
#   ✅ Restrict CORS_ORIGINS to your actual domains
#
# See PRE_LAUNCH_AUDIT.md for complete deployment checklist

# ========== DATABASE ==========
# PostgreSQL connection string
DATABASE_URL=postgresql://user:password@localhost:5432/infinitysol

# ========== CONSULTANT SITE ==========
CONSULTANT_SITE_ENABLED=true
CONSULTANT_BASE_DOMAIN=infinitysol.com

# ========== EVIDENCE VAULT (S3) ==========
S3_BUCKET_NAME=infinitysol-evidence
S3_REGION=us-east-1
S3_ACCESS_KEY=your_access_key_here
S3_SECRET_KEY=your_secret_key_here
# Alternative: Use AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY

# ========== AUTOMATION ==========
# Redis for job queue
REDIS_URL=redis://localhost:6379
# Email service
EMAIL_QUEUE_ENABLED=true
# VPAT generation
VPAT_GENERATION_ENABLED=true

# ========== INSURANCE APIS ==========
# Add insurance provider API keys here
INSURANCE_API_KEY_1=...
INSURANCE_API_KEY_2=...
